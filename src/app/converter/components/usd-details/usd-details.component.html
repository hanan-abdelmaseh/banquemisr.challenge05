
<div class="container mt-5">
    <div class="row">
        <div class="col-md-12">
          <div class="back mb-3"   routerLink="/home">
           
            Back 
          </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6 m-auto">
            <div class="title text-center">
                <h5>
                    Currency Details
                </h5>
                <p class="mt-1">
                    Lorem ipsum dolor sit amet consectetur adipisicing elit.
                    Eos minus nihil aperiam inventore animi optio iste nesciunt

                </p>

            </div>
        </div>

    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="content-shadow">
                <p>
                    Convert Currency from  <span>
                        {{fromCurrency}}
                    </span> to your favorite
                    Currency
                </p>
                <form [formGroup]="currencyMainForm"
                    (ngSubmit)="convertCurrency(currencyMainForm)"
                    class="convert-form mt-4">
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label for="amount">I'd Like To Exchange</label>
                                <input type="number" placeholder="100$"
                                    name="amount" id="amount"
                                    formControlName="amount">
                            </div>
                        </div>

                        <div class="col-lg-4">
                            <div class="form-group">
                                <label for="currency">From</label>
                                    <select   name="country-from"  formControlName="currencyFrom" >

                                        <option 
                                    [value]="fromCurrency"
                                    name="currencyForm"
                                    id="currencyForm"
                                        >{{fromCurrency}}</option>
                                        
                                       </select> 
                            </div>
                        </div>

                        <div class="col-lg-4">
                            <div class="form-group">
                                <label for="currency"> To</label>
                                <select name="country-to" id="country-to"
                                    formControlName="currencyTo">
                                    <option #toCurrencyValue
                                        *ngFor="let currency of currencyNamesList | keyvalue"
                                        [value]="currency.key">{{currency.key}}</option>

                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row mt-5">
                        <div class="col-lg-12 text-end">
                            <button type="submit" class="btn btn-convert"
                                [disabled]="currencyMainForm.invalid">convert</button>
                        </div>
                    </div>
                </form>

                <!--not handled due to convert Api limited subscription-->
                <!-- <div *ngIf="convertedAmount !== null">
                    <p>Conversion Result: {{ amount }} {{from currency}} = {{ convertedAmount }} {{ to currency }}</p>
                  </div> -->
                  <p>Conversion Result: </p>
            </div>
        </div>
    </div>
    <div class="row mt-4">
        <div class="col-md-12">
            <div class=" text-end">
             <button  [disabled]="currencyMainForm.invalid"
              routerLink="../../details"  [queryParams]="{from: fromCurrency , to : currencyTo}"
             
             class="btn  secondaryBtn"> Go To Details</button>
            </div>
        </div>
    </div>
</div>


